<!DOCTYPE html>
<html>
   <head>
      <title>Chapter 4 Blocks</title>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link href="../styles/bootstrap.min.css" rel="stylesheet">
      <link href="../styles/solarized-dark.css" rel="stylesheet">
      <link href="../styles/vimwiki.css" rel="stylesheet">
 
      <!--[if lt IE 9]>
         <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
         <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
      <![endif]-->
      <!-- jQuery should be imported before boostrap.min.js -->
      <script src="../js/jquery-1.12.4.min.js"></script>
      <script src="../js/bootstrap.min.js"></script>
      <!-- The code syntax highlighter -->
      <script src="../js/highlight.pack.js"></script>
      <!-- the vimwiki customized scripts -->
      <script src="../js/vimwiki_db.js" charset="utf-8"></script>
      <script src="../js/vimwiki.js" charset="utf-8"></script>
   </head>
   <body>
      <div class="container">
	<div class="row clearfix">
	  <div class="col-md-12 column">
	    <ul class="nav nav-pills">
	      <li class="active">
		<a href="#">HOME</a>
	      </li>
	      <!-- more items are injected by the JS -->
	    </ul>

	    <div id="main-content">
	    
<div id="Blocks"><h1 id="Blocks" class="justcenter">Blocks</h1></div>
<ol>
<li>
代码块 - 单行代码块用{,}表示，多行代码块用do,end定义.

<li>
代码块是闭包 - 当块定义时，他会将其所在的环境一并存下来，并一起传递到调用者的空间。
<pre class="code ruby">
 def my_method
   x = "Goodbye" # not visible to the block.
   yield("Cruel") # the called block refer the ::x
 end
 x = "Hello"
 my_method｛|y| "#{x},#{y} world"} # "Hello Cruel word"
</pre>

<li>
程序会在3个地方关闭前一个作用域和打开一个新的作用域:

<ul>
<li>
类定义

<li>
模块定义

<li>
方法

</ul>
<li>
用Kernel#local_variables可以列出当前作用域可以访问的变量。

<li>
全局变量<code>$xxx</code>可以在所有作用域访问并修改.

<li>
在类和模块中定义的代码会立即执行，在方法定义中的代码不会立刻执行。

</ol>

	    </div>
	    <hr>
	    <div id="footer">
	      <span class="notes">
		Thanks <a href="http://pages.github.com">githubPages</a> for
		providing the web hosting environment
	      </span>
	    </div>
	  </div>
	</div>
      </div> 
   </body>
</html>
