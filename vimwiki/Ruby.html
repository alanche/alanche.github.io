<!DOCTYPE html>
<html>
   <head>
      <title>Ruby</title>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link href="../styles/bootstrap.min.css" rel="stylesheet">
      <link href="../styles/solarized-dark.css" rel="stylesheet">
      <link href="../styles/vimwiki.css" rel="stylesheet">
 
      <!--[if lt IE 9]>
         <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
         <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
      <![endif]-->
      <!-- jQuery should be imported before boostrap.min.js -->
      <script src="../js/jquery-1.12.4.min.js"></script>
      <script src="../js/bootstrap.min.js"></script>
      <!-- The code syntax highlighter -->
      <script src="../js/highlight.pack.js"></script>
      <!-- the vimwiki customized scripts -->
      <script src="../js/vimwiki_db.js" charset="utf-8"></script>
      <script src="../js/vimwiki.js" charset="utf-8"></script>
   </head>
   <body>
      <div class="container">
	<div class="row clearfix">
	  <div class="col-md-12 column">
	    <ul class="nav nav-pills">
	      <li class="active">
		<a href="#">HOME</a>
	      </li>
	      <!-- more items are injected by the JS -->
	    </ul>

	    <div id="main-content">
	    
<div id="RubyTips"><h1 id="RubyTips" class="justcenter">RubyTips</h1></div>
<ol>
<li>
常数,类名以大写字母开头.

<li>
文档惯例:

<ul>
<li>
用#引导实例方法,如:Thread#alive,String#to_sym

<li>
用::引导类方法,如:Thread::curent

</ul>
<li>
ruby 对象的属性无法直接访问，都需要通过方法进行访问,可以定义 <span id="RubyTips-attr_accessor"></span><strong id="attr_accessor">attr_accessor</strong>  <span id="RubyTips-attr_reader"></span><strong id="attr_reader">attr_reader</strong> <span id="RubyTips-attr_writer"></span><strong id="attr_writer">attr_writer</strong>
  来快捷定义属性的访问方法。

<li>
Query the instance methods defined a in specific class Foo?

<ul>
<li>
<code>Foo.instance_methods(false)</code> : <span id="RubyTips-false"></span><strong id="false">false</strong> is instruct to ignore the inherited methods.

<li>
you can use the <span id="RubyTips-Array#grep"></span><strong id="Array#grep">Array#grep</strong> methods to further select the result: e.g. <code>String.instance_methods.grep /^re/</code>

</ul>
<li>
list the class Array methods?

<ul>
<li>
<code>[].methods.grep /^re/</code>

</ul>
<li>
<code>Module.contants</code> Return all the top level constants.
<pre class="code ruby">
Module.contants.include? :Object # True
Module.contants.include? :Module # True
</pre>

<li>
<span id="RubyTips-Module#contants"></span><strong id="Module#contants">Module#contants</strong> return the contants defined in current scope
<pre class="code ruby">
module M
  Y = "A contant"
  class C
  end
end
M.constaints # [:C,:Y]
</pre>

<li>
instance methods and class methods are different
<pre class="code ruby">
String.instance_methods == "abc".methods # True
String.methods == "abc".methods # False
</pre>

<li>
The Module#=== is for type testing
<pre class="code ruby">
String === "hello" # true
case "hello"
when String
 puts "matched" # matched.
end
</pre>

<li>
The <span id="RubyTips-extend"></span><strong id="extend">extend</strong> and <span id="RubyTips-include"></span><strong id="include">include</strong> behavior:

<ul>
<li>
<span id="RubyTips-extend Base"></span><strong id="extend Base">extend Base</strong>: import the Base.instance_methods into <span id="RubyTips-#methods"></span><strong id="#methods">#methods</strong>

<li>
<span id="RubyTips-include Base"></span><strong id="include Base">include Base</strong>: import the Base.instace_methods as <span id="RubyTips-#instance_methods"></span><strong id="#instance_methods">#instance_methods</strong>
<pre class="code ruby">
 module Base
   # in the current Base scope
   # define the method on current class.
   def self.info
   end
   # define the method on current class's instance.
   def message()
   end
   info # call the Info method
 end
 Base.methods.include? :info # true
 class Demo
   extend Base # omitted self. , import Base.instance_methods into Demo.methods
 end
 Demo.methods.include? :info # false
 Demo.methods.include? :message # true
 Demo.instance_methods.include? :message # false
 class Info
   include Base # import the Base.instace_methods into Info.instance_methods
 end
 Info.methods.include? :info # false
 Info.methods.include? :message # false
 Info.instance_methods.include? :message # true
</pre>

</ul>
<li>
turn the instance methods into class methods
<pre class="code ruby">
  module Base
    self.extend self # OR extend self
    # defaultly, it is a instance methods
    def list
    end
  end
  Base.methods.include? :list # true
  Base.instance_methods.include? :list # true
</pre>

<li>
ruby-debug is a debugger for ruby program: <code>require "ruby-debug";</code> or <code>require "debug";</code>

<li>
super不带括号表示调用父类的 <span id="RubyTips-同名函数"></span><strong id="同名函数">同名函数</strong>,并将本函数的所有参数传入父类的同名函数;

<li>
super()带括号则表示调用父类的 <span id="RubyTips-同名函数"></span><strong id="同名函数">同名函数</strong>,但是不传入任何参数;
<pre class="code ruby">
  class SParent  
    def initialize *args
      args.each {|arg| puts arg}  
    end  
  end  
     
  class SChild &lt; SParent  
    def initialize a, b, c  
      super  
    end  
  end  
     
  a, b, c = *%W[a b c]   # create the array and upack it.
  SChild.new a, b, c # puts a, b, c if super  
  SChild.new a, b, c # puts nothing if super()
</pre>

<li>
Debug Tips

<ul>
<li>
query the object methods: <span id="RubyTips-obj#methods"></span><strong id="obj#methods">obj#methods</strong>

<li>
using the <span id="RubyTips-caller"></span><strong id="caller">caller</strong> to show the stacks.

<li>
using <code>require debug</code> to enable the debug prompt.

<li>
The <span id="RubyTips-Proc#source_location"></span><strong id="Proc#source_location">Proc#source_location</strong> show the block defintion.

<li>
using <span id="RubyTips-defined?"></span><strong id="defined?">defined?</strong> to check the varaible/method exists or not.

</ul>
</ol>

	    </div>
	    <hr>
	    <div id="footer">
	      <span class="notes">
		Thanks <a href="http://pages.github.com">githubPages</a> for
		providing the web hosting environment
	      </span>
	    </div>
	  </div>
	</div>
      </div> 
   </body>
</html>
